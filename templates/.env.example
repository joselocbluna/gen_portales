# ============================================
# Generador de Portales — Variables de Entorno
# ============================================
# Copiar a .env y ajustar los valores según tu entorno.
# Los puertos del HOST se pueden cambiar aquí sin tocar docker-compose.
# Los puertos INTERNOS de los contenedores no cambian nunca.

# ============================================
# PUERTOS DEL HOST
# ============================================
# Cambiar estos valores si hay conflicto con otro proyecto Docker.
# Por defecto usa el rango 4xxx/5xxx para no chocar con proyectos
# que usen puertos estándar (3000, 3001, 5432, 9000, 6379).

WEB_PORT=4000                # Next.js frontend
API_PORT=4001                # NestJS backend
POSTGRES_PORT=5433           # PostgreSQL (interno sigue siendo 5432)
REDIS_PORT=6380              # Redis (interno sigue siendo 6379)
MINIO_API_PORT=9002          # MinIO API S3 (interno sigue siendo 9000)
MINIO_CONSOLE_PORT=9003      # MinIO Console web (interno sigue siendo 9001)
DEBUG_PORT=9230              # Node.js debugger

# Herramientas debug (solo con --profile debug)
PGADMIN_PORT=5051            # pgAdmin web UI
REDIS_COMMANDER_PORT=8082    # Redis Commander web UI
MAILDEV_PORT=1081            # MailDev web UI
MAILDEV_SMTP_PORT=1026       # MailDev SMTP

# ============================================
# BASE DE DATOS — PostgreSQL
# ============================================
POSTGRES_USER=generador
POSTGRES_PASSWORD=generador_dev
POSTGRES_DB=generador_portales
# Conexión interna (usada por NestJS dentro de Docker)
DATABASE_URL=postgresql://generador:generador_dev@postgres:5432/generador_portales

# ============================================
# CACHÉ — Redis
# ============================================
# Conexión interna (usada por NestJS dentro de Docker)
REDIS_URL=redis://redis:6379

# ============================================
# ALMACENAMIENTO — MinIO
# ============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=generador-medios

# ============================================
# AUTENTICACIÓN — JWT
# ============================================
JWT_SECRET=cambiar-en-produccion
JWT_EXPIRATION=24h

# ============================================
# INTELIGENCIA ARTIFICIAL
# ============================================
AI_API_KEY=tu-api-key-aqui
AI_MODEL=claude-sonnet-4-5-20250929

# ============================================
# FRONTEND (variables públicas de Next.js)
# ============================================
# Estas usan los puertos del HOST porque el navegador
# accede desde fuera de Docker.
NEXT_PUBLIC_API_URL=http://localhost:4001
NEXT_PUBLIC_MINIO_URL=http://localhost:9002
NEXT_PUBLIC_WS_URL=ws://localhost:4001
